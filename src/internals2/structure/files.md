Files which make up an extension
--------------------------------

Whether created by hand, using **ext\_skel**, or by an alternate
extension generator, such as
<a href="http://codegenerators.php-baustelle.de/" class="link external">» CodeGen</a>,
all extensions will have at least four files:

`config.m4`  
UNIX build system configuration (see
<a href="/internals2/buildsys/configunix.html" class="xref">Talking to the UNIX build system: config.m4</a>)

`config.w32`  
Windows buildsystem configuration (see
<a href="/internals2/buildsys/configwin.html" class="xref">Talking to the Windows build system: config.w32</a>)

`php_counter.h`  
When building an extension as static module into the PHP binary the
build system expects a header file with *php\_* prepended to the
extension name which includes a declaration for a pointer to the
extension's module structure. This file usually contains additional
macros, prototypes, and globals, just like any header.

`counter.c`  
Main extension source file. By convention, the name of this file is the
extension name, but this is not a requirement. This file contains the
module structure declaration, INI entries, management functions,
userspace functions, and other requirements of an extension.

The buildsystem files are discussed elsewhere; this section concentrates
on the rest. These four files make up the bare minimum for an extension,
which may also contain any number of headers, source files, unit tests,
and other support files. The list of files in the counter extension
might look like this:

**Example \#1 Files in the counter extension, in no particular order**

    ext/
     counter/
      .svnignore
      config.m4
      config.w32
      counter_util.h
      counter_util.c
      php_counter.h
      counter.c
      package.xml
      CREDITS
      tests/
       critical_function_001.phpt
       critical_function_002.phpt
       optional_function_001.phpt
       optional_function_002.phpt

### Non-source files

The `.svnignore` file is used for extensions which are checked into the
PHP **Subversion** repository (usually
<a href="https://pecl.php.net/" class="link external">» PECL</a>); the
one generated by **ext\_skel** contains:

``` svnignore
.deps
*.lo
*.la
```

These lines tell **Subversion** to ignore interim files generated by the
PHP buildsystem. This is only a convenience, and can be omitted
completely without ill effect.

The `CREDITS` file lists the contributors and/or maintainers of the
extension in plain text format. The main purpose of this file is
generating the credits information for bundled extensions as used by
<span class="function">phpcredits</span>. By convention the first line
of the file should hold the name of the extension, the second a comma
separated list of contributors. The contributors are usually ordered by
the chronological order of their contributions. In a
<a href="https://pecl.php.net/" class="link external">» PECL</a>
package, this information is already maintained in `package.xml`, for
example. This is another file which can be omitted without ill effect.

The `package.xml` file is specific to
<a href="https://pecl.php.net/" class="link external">» PECL</a>-based
extensions; it is a metainformation file which gives details about an
extension's dependencies, authors, installation requirements, and other
tidbits. In an extension not being hosted in
<a href="https://pecl.php.net/" class="link external">» PECL</a>, this
file is extraneous.
