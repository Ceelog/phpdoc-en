Functions restricted/disabled by safe mode
------------------------------------------

This is a still probably incomplete and possibly incorrect listing of
the functions limited by
<a href="/features/safe-mode.html" class="link">safe mode</a>.

| Function                                                                                  | Limitations                                                                                                                                                                                                                                                                                                                                                                             |
|-------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span class="function">dbmopen</span>                                                     | Checks whether the files or directories being operated upon have the same UID (owner) as the script that is being executed.                                                                                                                                                                                                                                                             |
| <span class="function">dbase\_open</span>                                                 | Checks whether the files or directories being operated upon have the same UID (owner) as the script that is being executed.                                                                                                                                                                                                                                                             |
| <span class="function">filepro</span>                                                     | Checks whether the files or directories being operated upon have the same UID (owner) as the script that is being executed.                                                                                                                                                                                                                                                             |
| <span class="function">filepro\_rowcount</span>                                           | Checks whether the files or directories being operated upon have the same UID (owner) as the script that is being executed.                                                                                                                                                                                                                                                             |
| <span class="function">filepro\_retrieve</span>                                           | Checks whether the files or directories being operated upon have the same UID (owner) as the script that is being executed.                                                                                                                                                                                                                                                             |
| ifx\_\*                                                                                   | sql\_safe\_mode restrictions, (!= safe mode)                                                                                                                                                                                                                                                                                                                                            |
| ingres\_\*                                                                                | sql\_safe\_mode restrictions, (!= safe mode)                                                                                                                                                                                                                                                                                                                                            |
| mysql\_\*                                                                                 | sql\_safe\_mode restrictions, (!= safe mode)                                                                                                                                                                                                                                                                                                                                            |
| <span class="function">pg\_lo\_import</span>                                              | Checks whether the files or directories being operated upon have the same UID (owner) as the script that is being executed.                                                                                                                                                                                                                                                             |
| <span class="function">posix\_mkfifo</span>                                               | Checks whether the directory in which the script is operating has the same UID (owner) as the script that is being executed.                                                                                                                                                                                                                                                            |
| <span class="function">putenv</span>                                                      | Obeys the safe\_mode\_protected\_env\_vars and safe\_mode\_allowed\_env\_vars ini-directives. See also the documentation on <span class="function">putenv</span>                                                                                                                                                                                                                        |
| <span class="function">move\_uploaded\_file</span>                                        | Checks whether the files or directories being operated upon have the same UID (owner) as the script that is being executed.                                                                                                                                                                                                                                                             |
| <span class="function">chdir</span>                                                       | Checks whether the directory in which the script is operating has the same UID (owner) as the script that is being executed.                                                                                                                                                                                                                                                            |
| <span class="function">dl</span>                                                          | This function is disabled when PHP is running in <a href="/features/safe-mode.html" class="link">safe mode</a>.                                                                                                                                                                                                                                                                         |
| <a href="/language/operators/execution.html" class="link">backtick operator</a>           | This function is disabled when PHP is running in <a href="/features/safe-mode.html" class="link">safe mode</a>.                                                                                                                                                                                                                                                                         |
| <span class="function">shell\_exec</span> (functional equivalent of backticks)            | This function is disabled when PHP is running in <a href="/features/safe-mode.html" class="link">safe mode</a>.                                                                                                                                                                                                                                                                         |
| <span class="function">exec</span>                                                        | You can only execute executables within the <a href="/ini/sect/safe-mode.html#ini.safe-mode-exec-dir" class="link">safe_mode_exec_dir</a>. For practical reasons it's currently not allowed to have *..* components in the path to the executable. <span class="function">escapeshellcmd</span> is executed on the argument of this function.                                           |
| <span class="function">system</span>                                                      | You can only execute executables within the <a href="/ini/sect/safe-mode.html#ini.safe-mode-exec-dir" class="link">safe_mode_exec_dir</a>. For practical reasons it's currently not allowed to have *..* components in the path to the executable. <span class="function">escapeshellcmd</span> is executed on the argument of this function.                                           |
| <span class="function">passthru</span>                                                    | You can only execute executables within the <a href="/ini/sect/safe-mode.html#ini.safe-mode-exec-dir" class="link">safe_mode_exec_dir</a>. For practical reasons it's currently not allowed to have *..* components in the path to the executable. <span class="function">escapeshellcmd</span> is executed on the argument of this function.                                           |
| <span class="function">popen</span>                                                       | You can only execute executables within the <a href="/ini/sect/safe-mode.html#ini.safe-mode-exec-dir" class="link">safe_mode_exec_dir</a>. For practical reasons it's currently not allowed to have *..* components in the path to the executable. <span class="function">escapeshellcmd</span> is executed on the argument of this function.                                           |
| <span class="function">fopen</span>                                                       | Checks whether the directory in which the script is operating has the same UID (owner) as the script that is being executed.                                                                                                                                                                                                                                                            |
| <span class="function">mkdir</span>                                                       | Checks whether the directory in which the script is operating has the same UID (owner) as the script that is being executed.                                                                                                                                                                                                                                                            |
| <span class="function">rmdir</span>                                                       | Checks whether the directory in which the script is operating has the same UID (owner) as the script that is being executed.                                                                                                                                                                                                                                                            |
| <span class="function">rename</span>                                                      | Checks whether the files or directories being operated upon have the same UID (owner) as the script that is being executed. Checks whether the directory in which the script is operating has the same UID (owner) as the script that is being executed.                                                                                                                                |
| <span class="function">unlink</span>                                                      | Checks whether the files or directories being operated upon have the same UID (owner) as the script that is being executed. Checks whether the directory in which the script is operating has the same UID (owner) as the script that is being executed.                                                                                                                                |
| <span class="function">copy</span>                                                        | Checks whether the files or directories being operated upon have the same UID (owner) as the script that is being executed. Checks whether the directory in which the script is operating has the same UID (owner) as the script that is being executed. (on `source` and `target`)                                                                                                     |
| <span class="function">chgrp</span>                                                       | Checks whether the files or directories being operated upon have the same UID (owner) as the script that is being executed.                                                                                                                                                                                                                                                             |
| <span class="function">chown</span>                                                       | Checks whether the files or directories being operated upon have the same UID (owner) as the script that is being executed.                                                                                                                                                                                                                                                             |
| <span class="function">chmod</span>                                                       | Checks whether the files or directories being operated upon have the same UID (owner) as the script that is being executed. In addition, you cannot set the SUID, SGID and sticky bits                                                                                                                                                                                                  |
| <span class="function">touch</span>                                                       | Checks whether the files or directories being operated upon have the same UID (owner) as the script that is being executed. Checks whether the directory in which the script is operating has the same UID (owner) as the script that is being executed.                                                                                                                                |
| <span class="function">symlink</span>                                                     | Checks whether the files or directories being operated upon have the same UID (owner) as the script that is being executed. Checks whether the directory in which the script is operating has the same UID (owner) as the script that is being executed. (note: only the target is checked)                                                                                             |
| <span class="function">link</span>                                                        | Checks whether the files or directories being operated upon have the same UID (owner) as the script that is being executed. Checks whether the directory in which the script is operating has the same UID (owner) as the script that is being executed. (note: only the target is checked)                                                                                             |
| <span class="function">apache\_request\_headers</span>                                    | In safe mode, headers beginning with *authorization* (case-insensitive) will not be returned.                                                                                                                                                                                                                                                                                           |
| <span class="function">header</span>                                                      | In safe mode, the uid of the script is added to the *realm* part of the *WWW-Authenticate* header if you set this header (used for HTTP Authentication).                                                                                                                                                                                                                                |
| <a href="/features/http-auth.html" class="link">PHP_AUTH variables</a>                    | In safe mode, the variables `PHP_AUTH_USER`, `PHP_AUTH_PW`, and `AUTH_TYPE` are not available in `$_SERVER`. Regardless, you can still use `REMOTE_USER` for the USER. (note: only affected since PHP 4.3.0)                                                                                                                                                                            |
| <span class="function">highlight\_file</span>, <span class="function">show\_source</span> | Checks whether the files or directories being operated upon have the same UID (owner) as the script that is being executed. Checks whether the directory in which the script is operating has the same UID (owner) as the script that is being executed.                                                                                                                                |
| <span class="function">parse\_ini\_file</span>                                            | Checks whether the files or directories being operated upon have the same UID (owner) as the script that is being executed. Checks whether the directory in which the script is operating has the same UID (owner) as the script that is being executed.                                                                                                                                |
| <span class="function">set\_time\_limit</span>                                            | Has no effect when PHP is running in <a href="/ini/sect/safe-mode.html#ini.safe-mode" class="link">safe mode</a>.                                                                                                                                                                                                                                                                       |
| <a href="/info/setup.html#" class="link">max_execution_time</a>                           | Has no effect when PHP is running in <a href="/ini/sect/safe-mode.html#ini.safe-mode" class="link">safe mode</a>.                                                                                                                                                                                                                                                                       |
| <span class="function">mail</span>                                                        | In safe mode, the fifth parameter is disabled.                                                                                                                                                                                                                                                                                                                                          |
| <span class="function">session\_start</span>                                              | The owner of a script must be the same as owner of a <a href="/session/setup.html#" class="link">session.save_path</a> directory if the default *files* <a href="/session/setup.html#" class="link">session.save_handler</a> is used.                                                                                                                                                   |
| All filesystem and stream functions.                                                      | Checks whether the files or directories being operated upon have the same UID (owner) as the script that is being executed. Checks whether the directory in which the script is operating has the same UID (owner) as the script that is being executed. (see the <a href="/ini/sect/safe-mode.html#ini.safe-mode-include-dir" class="link">safe_mode_include_dir</a> `php.ini` option. |
